document.addEventListener('DOMContentLoaded', () => { const chatForm = document.getElementById('chat-form'); const userInput = document.getElementById('user-input'); const chatMessages = document.getElementById('chat-messages'); // Sample AI responses for demo purposes const aiResponses = { "how much did i spend last month?": "Based on your transaction history, you spent $2,450.60 last month. Your largest categories were 'Dining Out' and 'Shopping'.", "show my investments": "Currently, your portfolio is up 5.2% for the year. Your top holdings are in VTI and AAPL.", "what is my credit score?": "I'm sorry, I don't have access to your Credit data. Please enable it in the Data Permissions sidebar if you'd like me to check.", "default": "I'm sorry, I couldn't understand that query. Could you please rephrase or ask something else about your assets, transactions, or investments?" }; chatForm.addEventListener('submit', (e) => { e.preventDefault(); const userMessageText = userInput.value.trim(); if (userMessageText === '') { return; } // Add user's message to the chat addMessage(userMessageText, 'user'); // Clear input and focus userInput.value = ''; userInput.focus(); // Simulate AI thinking and then respond setTimeout(() => { const aiResponseText = getAIResponse(userMessageText); addMessage(aiResponseText, 'assistant'); }, 1000); }); function addMessage(text, sender) { const messageElement = document.createElement('div'); messageElement.classList.add('message', sender); const messageContent = document.createElement('div'); messageContent.classList.add('message-content'); messageContent.innerHTML = `
${text}

`; messageElement.appendChild(messageContent); chatMessages.appendChild(messageElement); // Scroll to the latest message chatMessages.scrollTop = chatMessages.scrollHeight; } function getAIResponse(userText) { const lowerCaseText = userText.toLowerCase(); // Find a matching key in our sample responses for (const key in aiResponses) { if (lowerCaseText.includes(key.replace(/[?]/g, ''))) { return aiResponses[key]; } } // If no match is found, return the default response return aiResponses.default; } });